{% extends "base.html" %}

{% block content %}
<section class="conteudo-pagina">
    <h1 class="titulo-pagina">Dashboard Financeiro</h1>

    <!-- CARDS DO MÊS ATUAL -->
    <div class="cards">
      <div class="card" style="border-left-color: #27ae60;">
        <h3>Total Vendas (Mês)</h3>
        <p id="val-vendas">R$ 0,00</p>
      </div>
      <div class="card" style="border-left-color: #e74c3c;">
        <h3>Gastos (Mês)</h3>
        <p id="val-custos">R$ 0,00</p>
      </div>
      <div class="card" style="border-left-color: #2980b9;">
        <h3>Lucro Líquido</h3>
        <p id="val-lucro">R$ 0,00</p>
      </div>
    </div>

    <!-- GRÁFICO E LISTA HISTÓRICA -->
    <div style="display: flex; gap: 20px;">
        <div class="card-longo" style="flex: 2;">
            <h3>Evolução do Lucro (Últimos 6 meses)</h3>
            <div style="height: 300px;">
                <canvas id="salesChart"></canvas>
            </div>
        </div>
        
        <div class="card-longo" style="flex: 1;">
            <h3>Histórico Recente</h3>
            <ul id="lista-historico" style="list-style: none; padding: 0;">
                <!-- Preenchido via JS -->
                <li style="padding:10px; border-bottom:1px solid #eee; color:#666">Carregando...</li>
            </ul>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/home.js') }}"></script>
{% endblock %}